<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>OpenBeam online App</title>

    <script language="javascript" type="text/javascript" src="https://codemirror.net/lib/codemirror.js"></script>
    <script language="javascript" type="text/javascript" src="https://codemirror.net/mode/perl/perl.js"></script>
    <link rel="stylesheet" type="text/css" href="https://codemirror.net/lib/codemirror.css"></link>
    <link rel="stylesheet" type="text/css" href="https://codemirror.net/theme/abbott.css"></link>

     <script>
     // var Module = {
     // onRuntimeInitialized: function() {
     // ...

     function buildStructure()
     {
      var instance = new Module.AppOpenBeam();
      editor.save(); // save text to textarea
      var s = document.getElementById('StructureDefinitionArea').value;
      
      var ret = instance.LoadStructureDefinition(s);
      
      document.getElementById('OutputArea').value = ret;
     }
  </script>
  <script type="text/javascript" src="web-ob-solve.js" defer></script>
</head>

<body>
    Check browser console.
    
    <div>
    <textarea id="StructureDefinitionArea" name="StructureDefinitionArea"># Place your structure definition here    </textarea>
    </div>
    
    <button onclick="buildStructure()">Parse this structure...</button>

    <div>
    <textarea readonly id="OutputArea" cols="100" rows="10">(output messages)</textarea>
    </div>


<script>
    var editor = CodeMirror.fromTextArea(document.getElementById('StructureDefinitionArea'), {
    lineNumbers: true,
    mode: 'text/x-yaml',
    theme: 'abbott',
    });
</script>

</body>
</html>
